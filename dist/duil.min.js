!function(t,i){"function"==typeof define&&define.amd?define(["jquery","lodash"],i):"object"==typeof exports?module.exports=i(require("jquery"),require("lodash")):t.duil=i(t.jQuery,t._)}(this,function(t,i){"use strict";var n={};return n.VERSION="0.1.3",n.Widget=function(t){return this instanceof n.Widget?(this.set(t,!1),this.init(),void this.render()):new n.Widget(t)},n.Widget.subclass=function(t){t||(t={});var n=this,e=function(t){return this instanceof e?void n.call(this,t):new e(t)};return e.prototype=Object.create(n.prototype),e.prototype.__superclass__=n,e.constructor=n,i.assignIn(e.prototype,t),i.forOwn(n,function(t,i){e[i]=t}),e},n.Widget.prototype.superclass=function(t,n,e){i.isString(t)?(n=t,t=this.__superclass__,e=i.slice(arguments,1)):e=i.slice(arguments,2);var s=t.prototype;return n&&(s=s[n]),i.isFunction(s)&&(s=s.apply(this,e)),s},n.Widget.prototype.init=function(){return this},n.Widget.prototype.render=function(){return this},n.Widget.prototype.set=function(t,n){var e=!1;return i.isBoolean(n)?(e=n,i.forOwn(t,i.bind(function(t,n){i.set(this,n,i.isFunction(t)?t.bind(this):t)},this))):i.forOwn(t,i.bind(function(t,n){i.isEqual(i.get(this,n),t)||(i.set(this,n,i.isFunction(t)?t.bind(this):t),e=!0)},this)),e&&this.render(),this},n.List=n.Widget.subclass({$dom:t(),$tmpl:t("li"),selector:"li",data:[]}),n.List.prototype.init=function(){return this.$tmpl=this.items().remove(),this},n.List.prototype.items=function(){return this.$dom.find(this.selector)},n.List.prototype.key=function(t,i){return this.items().eq(i)},n.List.prototype.add=function(t,i){var n=this.$tmpl.clone();return this.update(t,i,n),this.$dom.append(n),this},n.List.prototype.update=function(t,i,n){return n.text(t),this},n.List.prototype.remove=function(t){return t.remove(),this},n.List.prototype.render=function(){var t=this.items(),n=[];return i.forEach(this.data,i.bind(function(t,i){var e=this.key(t,i);e.length?(this.update(t,i,e),n.push(e.get()[0])):this.add(t,i)},this)),this.remove(t.not(n)),this},t.fn.extend({set:function(n,e){var s={},r=[];return i.isPlainObject(n)?s=n:s[n]=e,r=i.map(s,function(t,n){var e=null,s=n.indexOf(":");return-1!==s&&(e=n.substr(s+1),n=n.substring(0,s)),{fn:n,name:e,val:i.isFunction(t)?t:i.constant(t)}}),this.each(function(n,e){var s=t(e);i.forEach(r,function(t){var r=i.bind(s[t.fn],s);t.name&&(r=i.partial(r,t.name));var o=i.endsWith(t.fn,"Class"),u=o?s.attr("class"):r(),a=i.bind(t.val,e)(n,u);(o||u!==a)&&r(a)})})}}),n});
//# sourceMappingURL=duil.min.js.map